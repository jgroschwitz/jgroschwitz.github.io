<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <title>Jonas Groschwitz Computational Linguistics</title>
    <link rel="stylesheet" href="https://stackedit.io/style.css">
    <link rel="stylesheet" href="../portfolio.css">
    <link rel="stylesheet" href="../navbar.css">
</head>

<script src="../navbar.js"></script>
<body class="stackedit" onload="fetch_header('../header.html')">
	<div id="header"></div>
	
  <div class="body-container"><h1 id="heading-top">Linear Regression for Animals in a Zoo-Building Game</h1>
  
  
<p> In this analysis, I examine the different animals available in the zoo-themed board game Ark Nova using a linear regression model. The results are not only interesting for fans of the game, but also from a pure data analysis standpoint: for example, they reveal strengths and shortcomings of the linear regression approach. In most of the text, I will assume that the reader has no prior knowledge about Ark Nova, and explain things as we go. An exception are green boxes like this:</p>

<div style="background-color: #cfc ; padding: 10px; border: 1px solid green;">
<b>Game analysis:</b> In boxes like this, I will look at some of the results purely in terms of what they mean for the game, its balance and its strategy. Therefore, inside these boxes I will assume that the reader is already familiar with Ark Nova, and is here for the insights into the game. Feel free to skip the green boxes if that's not you!
</div> 


<h2 id="game-intro">A Brief Introduction to Ark Nova</h2>

<img align="right" width="200" src="/portfolio/514.jpg" alt="The emu card in Ark Nova." style="margin:20px; margin-top:0px; margin-right: 0px;">  
<img align="right" width="200" src="/portfolio/401.jpg" alt="The cheetah card in Ark Nova." style="margin:20px; margin-top:0px; margin-right: 0px;">  <!--clear: both-->
<!--src="https://github.com/PixelT/ArkNovaCardsManager/blob/master/dist/images/animal/401.jpg"-->  
<p>Ark Nova is a 2-4 player board game where players build a zoo, trying to both attract visitors and contribute to wildlife conservation efforts. Each player starts with an empty map of their zoo, and the core game mechanic is to build enclosures and place animals inside them. The animals come in the form of cards, like the ones seen on the right. You can find a list of all Ark Nova cards for example <a href="https://ssimeonoff.github.io/ark-nova">here</a> or <a href="https://arknova.cards/">here</a>.
</p>
<p> Each animal has a <i>cost</i>, shown in the gray square on the top right (17 for the cheetah, and 22 for the emu). Each card has a range of different features that are either requirements to playing the card or benefits when you add the animal to your zoo. For example, there is the <i>minimum enclosure size</i> that the animal requires (the brown hexagon in the top left; here both animals require an enclosure of size 5). Also, on the bottom right, each animal has an <i>attraction</i> value shown on a ticket-like shape, that represents how many visitors the animal will attract to your zoo (here 6 and 7, respectively). Many animals also have special abilities printed in text on the card. For example, the cheetah allows you to draw three more cards, and the emu allows you to build a special kind of enclosure for free.
<!--Then, each animal comes with some tags on the top right, for example the cheetah has two predator tags and one Africa tag. These tags are relevent for the wildlife conservation aspect of the game (which I won't go into detail here), but some animals also require you to have certain tags before you can add that animal to your zoo. For example, the emu card shows two requires you to allready have two-->
</p>
<p> This is a very brief introduction -- I skipped over some features of the animal cards, and the game has several more mechanics going beyond adding animals to your zoo, giving it incredible complexity. But for the analysis that follows, you will only need to know these basic concepts.
</p>
<h2 id="linear-regression">Modeling Animal Cost with Linear Regression</h2>
<p>While playing the game, I was asking myself: what makes up the cost of an animal? How do each of its properties contribute to its total price? Or in other words, if I add the cheetah to my zoo, how much am I paying for the three cards that I draw, and how much for the 6 attraction value? And, following that line of thought: offer some animals more value than others? Are some overpriced, some underpriced?</p>
<p>To answer these questions, I decided to build a <i>linear regression</i> model that predicts the price of an animal based on all its other features. The features of a card are its minimum enclosure size, attraction value, special abilities and so on. Each feature has a value associated with it, for example the cheetah's feature for its "Sprint" ability has value 3, because it allows you to draw 3 cards. For each feature \(x_i\), the linear regression model then has a parameter \(\beta_i\) that weights the impact of that feature. The model computes the price of an animal like this:
\[\text{cost}=x_1\beta_1 + x_2\beta_2 + \cdots + x_n\beta_n + \epsilon,\]
where \(\epsilon\) is another parameter of the model, that just offsets all costs by a fixed amount. Note that the feature values \(x_i\) are different for each animal, but the parameters \(\beta_i\) and \(\epsilon\) are the same for all animals. Note also that technically, every animal has every feature, but most of them have value 0 so they get ignored in the above calculation. For example, the Emu also has a feature for the "Sprint" ability, but it has value 0, because the Emu does not allow you to draw any cards. This choice of including features with value zero allows us to compute the cost for all animals in the same way, using the same model parameters.
</p>
<p>
The model is then <i>fit</i> to the data, by choosing the parameters of the model such that the average error across all animals is minimized (technically, one minimizes the mean <i>squared</i> errors). Thankfully, the computer can do this fitting for us; I used the sklearn library. With the model fitted, we can have a look at how well it matches the data, i.e. how the predicted costs differ from the actual costs. I plotted all animal's predicted and actual costs in Tableau (you'll have to scroll left and right to see all the animals).
</p>
<div class='tableauPlaceholder' id='viz1738246095158' style='position: relative'><noscript><a href='#'><img alt='Final Model Predicted and Actual costs ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Ar&#47;ArcheNova&#47;FinalModelPredictedandActualcosts&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='ArcheNova&#47;FinalModelPredictedandActualcosts' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Ar&#47;ArcheNova&#47;FinalModelPredictedandActualcosts&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-US' /><param name='filter' value='publish=yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1738246095158');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
<p>
Overall, the predictions are pretty close! This means that the linear regression model, while being a relatively simple model, seems to be able to model the data accurately. We'll dive deeper into the appropriateness of the linear model below.
</p>
<p>But first: the nice thing about linear regression is that the resulting model is very interpretable: namely, its parameters answer my original question about how each of the features contribute to the total price. 
You simply multiply an animal's feature value with the corresponding model parameter, and that is how much the model thinks that specific feature contributes to the cost of the animal. For example, the parameter for the "Sprint" ability is \(\beta_{\text{Sprint}}=2.2\). The cheetah's value for this ability is \(x_{\text{Sprint}}=3\), meaning the total contribution of this feature to the cheetah's total cost of \(17\) is \(6.6\)! Again in Tableau, I plotted how much each feature contributes to each animal's cost. This table is the linear model's answer to my original question!
</p>

<div class='tableauPlaceholder' id='viz1738247433657' style='position: relative'><noscript><a href='#'><img alt='Final Model Tiere by Cost ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Ar&#47;ArcheNova&#47;FinalModelTierebyCost&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='ArcheNova&#47;FinalModelTierebyCost' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Ar&#47;ArcheNova&#47;FinalModelTierebyCost&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-US' /><param name='filter' value='publish=yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1738247433657');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
<p>Note that some features have a negative contribution to the cost. Those features are requirements on when the card can be played, and it makes sense that the model worked out that they tend to decrease the cost: if an animal has more requirements, it is more difficult to play, and to balance that out, the monetary cost can be reduced. In a way, this plot is the main technical result of my analysis. But there's much more to say! Below, I will</p>
<ul style="margin:0px; margin-left: 20px">
	  <li>compare my model to a similar (but manual!) analysis done by an Ark Nova expert,</li>
	  <li>analyze the model parameters in depth (for Ark Nova players),</li>
	  <li>discuss why this analysis has limited use for judging the balance between animals,</li>
	  <li>use this analysis to judge the balance between animals anyway, and learn more about linear regression than about the animals as a result,</li>
	  <li>and examine whether the model overfits the data.</li>
</ul>
<p>Let's dive right in!</p>

<h2 id="previous-manual-analysis">Building on Previous Work: Strategy Advisor's Manual Analysis</h2>
<h2 id="feature-worth">Detailed Strategy Results: What Each Feature is Worth</h2>
<h2 id="utility">Predicting Cost vs Analyzing Utility</h2>
<h2 id="overpriced">Over- and Underpriced Animals?</h2>
<h2 id="overfitting">Does the Model Overfit?</h2>
<h2 id="conclusion">Conclusion</h2>
</div>
</body>

</html>
